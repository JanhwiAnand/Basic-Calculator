export const deleteTask = async (taskId, token, userId) => {
  const authToken = token || localStorage.getItem("jwtToken");
  const user = userId || localStorage.getItem("userId");

  if (!authToken) {
    console.error("Token is missing, cannot proceed.");
    return;
  }

  if (!taskId || isNaN(taskId)) {
    console.error("Invalid Task ID:", taskId);
    return;
  }

  try {
    const response = await axios.delete(`http://localhost:3001/api/tasks/${taskId}`, {
      headers: {
        Authorization: `Bearer ${authToken}`,
        "User-Id": user
      }
    });

    console.log("React DELETE Response:", response.data);
    return response.data;
  } catch (error) {
    console.error("React DELETE Error:", error.response?.data || error.message);
  }
};
